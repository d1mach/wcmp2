[big]*i.     Abstract*

Discovery and search is a key component to WIS 2.0.  Providing quality discovery metadata leveraging industry
standards, best practices and architecture helps lower the barrier to and extend the reach of weather, climate,
and water data.

This document defines the content, structure and encoding for the WMO Core Metadata Profile (WCMP).  This standard is
defined as an informal profile/extension of the OGC API - Records Standard footnote:[https://ogcapi.ogc.org/records].

WCMP documents provide descriptive information for discovery of WMO resources.  WMO resources include, but are not
limited to, data (NWP models, observations, forecasts and warnings, etc.), services/APIs, and processes.

WCMP documents shall be encoded in GeoJSON (RFC 7946 footnote:[https://datatracker.ietf.org/doc/html/rfc7946]) as
defined this specification, and shall be made available as HTTP crawlable files, or via API provisionig as defined
by OGC API - Records.

Weather/climate/water data is by nature geospatial, and temporal.  The W3C Data on the Web Best
Practices footnote:[https://www.w3.org/TR/dwbp] and Spatial Data on the Web Best Practices footnote:[https://www.w3.org/TR/sdw-bp]
provide guidelines on how to best enable spatiotemporal data to lower the barrier for users, search engine optimization
and linked data.  This also aligns with the FAIR data principles (Findable, Accessible, Interoperable,
Reusable) footnote:[https://en.wikipedia.org/wiki/FAIR_data].

[big]*ii. WIS 2.0*

WIS 2.0 puts forth the following principles (those focused on discovery metadata are in **bold**):

* *Principle 1: WIS 2.0 adopts Web technologies and leverages industry best practices and open standards*
* *Principle 2: WIS 2.0 uses Uniform Resource Locators (URL) to identify resources*
* *Principle 3: WIS 2.0 prioritizes use of public telecommunications networks (i.e. Internet) when publishing digital resources*
* *Principle 4: WIS2.0 requires provision of Web service(s) to access or interact with digital resources (e.g. data, information, products) published using WIS*
* Principle 5: WIS 2.0 encourages NCs and DCPCs to provide 'data reduction' services via WIS that process 'big data' to create results or products that are small enough to be conveniently downloaded and used by those with minimal technical infrastructure
* *Principle 6: WIS 2.0 will add open standard messaging protocols that use the publish-subscribe message pattern to the list of data exchange mechanisms approved for use within WIS and GTS*
* Principle 7: WIS 2.0 will require all services that provide real-time distribution of messages to cache/store the messages for a minimum of 24-hours, and allow users to request cached messages for download
* Principle 8: WIS 2.0 will adopt direct data exchange between provider and consumer
* Principle 9: WIS 2.0 will phase out the use of routing tables and bulletin headers
* *Principle 10: WIS 2.0 will provide a Catalogue containing metadata that describes both data and the service(s) provided to access that data*
* *Principle 11: WIS 2.0 encourages data providers to publish metadata describing their data [EF1] and Web services in a way that can be indexed by commercial search engines*

[big]*iii. Discovery metadata design considerations*

The following describes envisioned workflows of WIS 2.0 in the context of metadata search and harvesting.

We consider the following:

* flexible metadata publishing mechanisms: providers need to be able to publish discovery metadata in the easiest and
most efficient way possible
* basic, HTTPS crawlable metadata files (filesystem, object storage). For example, publishing discovery metadata as
JSON files to an S3 bucket, and then making that bucket available for harvesting and traversal to search engines and
metadata harvesters
* the browser as the catalogue: here, browsers utilize mass market search engines as the gateway to low barrier
discovery.  This pattern works without a dedicated WIS catalogue per se, and also means discovery metadata would not
need to be duplicated/harvested across each GISC, with the idea that search engines will harvest from the closest
point to the authoritative source

[big]*iv. Granularity*

In order to provide discovery metadata of value, it is important to clarify the granularity levels of which providers
are to provide describing their data/products/services.  Articulating granularity will reduce catalogue "pollution"
and bring the user closer to the data via their search criteria.

The <<metadata-discovery-workflow>> below illustrates example metadata publiciation and discovery workflows against
common meteorological data types:

[[metadata-discovery-workflow]]
.Discovery metadata workflow
image::images/metadata-discovery-workflow.png[Discovery metadata workflow]

Common meteorological data types include:

* collection (model): NWP model (OARec record metadata).  Example: Canadian Global Deterministic Prediction System
** collection (variable): NWP model output by forecast variable (including vertical levels) (discovery metadata record).
   Example: Canada GDPS air temperature
** product options:
*** API endpoint to interrogate the data/variable
*** x/y/z/t (granule) (STAC Item with link to actual data asset)

* collection (observations): surface weather observations (discovery metadata record)
** station metadata as WIGOS metadata via WMO OSCAR/Surface
** product options:
*** API endpoint to interrogate the data
*** x/y/z/t (granule) (STAC Item, with link to actual data asset)

* collection (product): METAR (discovery metadata record)
** product options:
*** API endpoint to interrogate the data
*** product: single message (granule) (STAC Item with link to actual data asset)



[big]*ii.    Keywords*

The following are keywords to be used by search engines and document catalogues.

wmo, wis 2.0, weather, climate, water, metadata, discovery, search

[big]*iv.    Security Considerations*

No security considerations have been made for this Standard.
